<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applicants</title>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>

<header class="nav">
    <div class="container nav-wrap">
        <a class="brand" href="/">
            <img src="images/Metador3Logo.png" alt="Metador3 logo" />
            <span>Metador3.com</span>
        </a>

        <nav class="nav-links">
            <a class="pill ghost pressable" href="index.html">Home</a>
            <a class="pill ghost pressable" href="projects.html">Projects</a>
            <a class="pill ghost pressable" href="company-applicants.html">Company</a>
        </nav>
    </div>
</header>

<div class="container">
    <h1>Applicants</h1>

    <!-- Search + Filter -->
    <div class="filter-box">
        <input type="text" id="searchInput" placeholder="Search applicantsâ€¦">

        <select id="statusFilter">
            <option value="All">All Statuses</option>
            <option value="Applied">Applied</option>
            <option value="Started">Started</option>
            <option value="Offered">Offered</option>
        </select>
    </div>

    <div id="applicantsList">

        <div class="applicant-card" data-status="Applied" data-name="John Doe" data-match="70">
            <div>
                <h2>John Doe</h2>
                <p>Match: <strong class="match-percent">70%</strong></p>
                <p>Applied</p>
            </div>
            <a href="student-dashboard.html" class="see-profile-btn">See Profile</a>
        </div>

        <div class="applicant-card" data-status="Started" data-name="Emily Smith" data-match="50">
            <div>
                <h2>Emily Smith</h2>
                <p>Match: <strong class="match-percent">50%</strong></p>
                <p>Started</p>
            </div>
            <a href="student-dashboard.html" class="see-profile-btn">See Profile</a>
        </div>

        <div class="applicant-card" data-status="Offered" data-name="Michael Lee" data-match="90">
            <div>
                <h2>Michael Lee</h2>
                <p>Match: <strong class="match-percent">90%</strong></p>
                <p>Offered</p>
            </div>
            <a href="student-dashboard.html" class="see-profile-btn">See Profile</a>
        </div>

    </div>
</div>

<script>
document.querySelectorAll(".applicant-card").forEach(card => {
    const match = parseInt(card.dataset.match);

    if (match >= 80) {
        card.classList.add("match-green");
    } else if (match >= 60) {
        card.classList.add("match-yellow");
    } else {
        card.classList.add("match-red");
    }
});

const searchInput = document.getElementById("searchInput");
const statusFilter = document.getElementById("statusFilter");
const applicants = document.querySelectorAll(".applicant-card");

function updateFilters() {
    const searchValue = searchInput.value.toLowerCase();
    const statusValue = statusFilter.value;

    applicants.forEach(card => {
        const name = card.dataset.name.toLowerCase();
        const status = card.dataset.status;

        const matchesSearch = name.includes(searchValue);
        const matchesStatus = statusValue === "All" || status === statusValue;

        card.style.display = (matchesSearch && matchesStatus) ? "flex" : "none";
    });
}

searchInput.addEventListener("input", updateFilters);
statusFilter.addEventListener("change", updateFilters);
</script>

</body>
</html>
